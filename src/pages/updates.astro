---
import "../styles/global.css";
import Layout from "@/layout/Layout.astro";
import Post from "@/components/Post.astro";
import comparePostsByDate from '@/services/comparePostsByDate'
import ButtonOutline from "@/components/ButtonOutline"

const allPosts = await Astro.glob("../pages/posts/*.mdx");
const sortedPosts = allPosts.sort(comparePostsByDate);

---
<Layout title="Updates">

  <ul>
    {
      sortedPosts.map((post) => (
        <Post
          url={post.url}
          title={post.frontmatter.title}
          authors={post.frontmatter.author}
          date={post.frontmatter.date}
          description={post.frontmatter.description}
          frontImage={post.frontmatter.frontImage}
        />
      ))
    }
  </ul>
  <ButtonOutline client:load>Load more</ButtonOutline>
</Layout>
<style>
	ul{
    padding-inline: 20px;
		margin-top: 26px;
		max-width: 1000px;
    display: flex;
    flex-direction: column;
    gap: 20px;
    margin-bottom: 20px;
    min-height: 65vh;
	}


</style>